<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=0, minimum-scale=1, maximum-scale=5">
    <title>ì¤‘ì•™ìŠ¤í…Œì´ ì½˜í…ì¸ </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="icon" type="image/png" href="https://team-nexusway.github.io/jungang/assets/image/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="https://team-nexusway.github.io/jungang/assets/image/favicon.svg" />
    <link rel="shortcut icon" href="https://team-nexusway.github.io/jungang/assets/image/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="https://team-nexusway.github.io/jungang/assets/image/apple-touch-icon.png" />
    <link rel="preconnect" href="https://cdn.jsdelivr.net" />
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin />
    <link href="https://cdn.jsdelivr.net/gh/toss/tossface/dist/tossface.css" rel="stylesheet" type="text/css" />
    <style>
        .tossface {
          font-family: Tossface;
          font-size: 1.3rem;
        }
      </style>

    <!-- PWA ì„¤ì • -->
    <link rel="manifest" href="manifest.json">

    <!-- iOSì—ì„œ ì „ì²´ í™”ë©´ í‘œì‹œ -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ì¤‘ì•™ê³  ìŠ¤í…Œì´ ëª¨ë°”ì¼">

    <link href="Jungang-content.css" rel="stylesheet" type="text/css"/>
</head>
<body>

    <h1>ã…¤</h1><br><h2>ã…¤</h2>

<body class="!bg-[#101012] text-white">
    <div class="max-w-sm mx-auto bg-gray-900 min-h-screen p-4">
 <!-- í—¤ë” -->
 <div class="flex justify-between items-center mb-6">
    <div class="flex items-center space-x-3">
        <img src="https://team-nexusway.github.io/jungang/assets/image/jungang-main_logo.png" alt="ì¤‘ì•™ì¤‘ ë¡œê³ " class="w-10 h-10 rounded-full">
        <span class="text-[#D9D9D9] text-lg font-semibold tracking-wide">êµ°ì‚°ì¤‘ì•™ê³  ìŠ¤í…Œì´</span>
    </div>
    <div class="flex space-x-4">
        <!-- í•™ìƒì´ë¦„ í‘œì‹œ -->
        <span id="welcomeUser" class="bg-[#363740] text-[#BFBFBF] px-4 py-2 rounded-lg">
            ë¡œë”© ì¤‘...
        </span>        
    </div>
</div>
<script>
(function() {
    try {
        let loggedInUser = localStorage.getItem("loggedInUser");

        if (!loggedInUser) {
            window.location.replace("https://team-nexusway.github.io/jungang/login");
        } else {
            // âœ… sessionStorageì—ë„ ë¡œê·¸ì¸ ì •ë³´ ë³µêµ¬ (ìƒˆë¡œê³ ì¹¨í•´ë„ ìœ ì§€)
            sessionStorage.setItem("loggedInUser", loggedInUser);

            document.getElementById("welcomeUser").innerText = `${loggedInUser}ë‹˜`;
        }
    } catch (error) {
        console.error("ë¡œê·¸ì¸ í™•ì¸ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:", error);
        window.location.replace("https://team-nexusway.github.io/jungang/login");
    }
})();

</script>







<script>
    // í™”ë©´ì˜ ë„ˆë¹„ê°€ 1024px ì´ìƒì´ë©´ PCë¡œ ê°„ì£¼í•˜ê³  ë¦¬ë‹¤ì´ë ‰íŠ¸
    if (window.innerWidth >= 1024) {
      window.location.href = "https://team-nexusway.github.io/jungang/pc.html";
    }
  </script>

</body>
</head>


<body>
<div class="bg-[#23232a] p-8 rounded-2xl shadow-2xl w-full max-w-md text-center">
  <div class="flex justify-center mb-6">
    <div class="w-10 h-10 border-4 border-blue-400 border-t-transparent rounded-full animate-spin"></div>
  </div>
  <h1 class="text-xl md:text-2xl font-bold mb-3">
    ë¯¸ë‹ˆê²Œì„ í˜ì´ì§€ë¡œ ì´ë™ì¤‘!
  </h1>
  <p class="text-[#B0B0B0] text-base mb-6">
    <span id="countdown" class="font-semibold text-blue-400">3</span>ì´ˆ í›„ì— ìë™ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.<br/>
    ì´ë™í•˜ì§€ ì•Šìœ¼ë©´ <a href="https://team-nexusway.github.io/jungang/" class="text-blue-400 hover:text-blue-500 no-underline">ì—¬ê¸°ë¥¼ í´ë¦­</a>í•˜ì„¸ìš”.
  </p>
  <p class="text-sm text-[#666]">Team NexusWay</p>
</div>

  <script>
    let countdown = 3;
    const countdownEl = document.getElementById("countdown");

    const interval = setInterval(() => {
      countdown--;
      countdownEl.textContent = countdown;
      if (countdown <= 0) {
        clearInterval(interval);
        window.location.href = "https://zanusn.github.io/Ascend";
      }
    }, 1000);
  </script>
      </body>



    <script>
        // ì„œë¹„ìŠ¤ ì›Œì»¤ ë“±ë¡
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/service-worker.js').then(registration => {
                console.log('âœ… Service Worker ë“±ë¡ ì„±ê³µ:', registration.scope);

                // ì—…ë°ì´íŠ¸ê°€ ìˆì„ ë•Œ ì²˜ë¦¬
                registration.onupdatefound = () => {
                    const newWorker = registration.installing;
                    console.log('ğŸš€ ìƒˆ ì„œë¹„ìŠ¤ ì›Œì»¤ ê°ì§€ë¨!');

                    // ìƒˆ ì›Œì»¤ ìƒíƒœê°€ 'installed'ì¼ ë•Œ
                    newWorker.onstatechange = () => {
                        if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                            console.log('ğŸ”„ ìƒˆë¡œìš´ ì—…ë°ì´íŠ¸ê°€ ìˆìŠµë‹ˆë‹¤!');

                            // ğŸ“¢ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼ í‘œì‹œ
                            alert('ìƒˆë¡œìš´ ì—…ë°ì´íŠ¸ê°€ ìˆìŠµë‹ˆë‹¤! í˜ì´ì§€ë¥¼ ìƒˆë¡œ ê³ ì¹¨í•˜ì„¸ìš”.');

                            // ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ ì›Œì»¤ ì¦‰ì‹œ í™œì„±í™”
                            newWorker.postMessage({ type: 'skipWaiting' });

                            // í˜ì´ì§€ ìë™ ìƒˆë¡œ ê³ ì¹¨
                            window.location.reload();
                        }
                    };
                };
            }).catch(error => {
                console.log('âŒ Service Worker ë“±ë¡ ì‹¤íŒ¨:', error);
            });

            // ì„œë¹„ìŠ¤ ì›Œì»¤ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë³€ê²½ë  ë•Œ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
            navigator.serviceWorker.addEventListener('controllerchange', () => {
                console.log('ğŸ”„ ì„œë¹„ìŠ¤ ì›Œì»¤ê°€ ìƒˆë¡œ ê³ ì¹¨ë¨!');
                window.location.reload();
            });
        }
    </script>



<script>
  let idleTimer;
  let isUserActive = true;

  // ê°•ë ¥ ìƒˆë¡œ ê³ ì¹¨ í•¨ìˆ˜ (ìºì‹œ ë¬´ì‹œ)
  function forceReload() {
    console.log("10ì´ˆê°„ í™œë™ ì—†ìŒ â†’ ê°•ë ¥ ìƒˆë¡œê³ ì¹¨");
    location.reload(true); // trueëŠ” ìºì‹œ ë¬´ì‹œ (ë‹¨, ì¼ë¶€ ë¸Œë¼ìš°ì €ëŠ” ë¬´ì‹œí•¨)
    // ë³´ì¥í•˜ë ¤ë©´ ì•„ë˜ì²˜ëŸ¼ query íŒŒë¼ë¯¸í„°ë¡œ ìš°íšŒí•˜ëŠ” ë°©ë²•ë„ ìˆìŒ
    // location.href = location.pathname + '?reload=' + new Date().getTime();
  }

  // ì‚¬ìš©ì í™œë™ ê°ì§€ í•¨ìˆ˜
  function resetIdleTimer() {
    if (!isUserActive) {
      console.log("ì‚¬ìš©ì í™œë™ ê°ì§€ë¨. íƒ€ì´ë¨¸ ì´ˆê¸°í™”");
    }
    isUserActive = true;
    clearTimeout(idleTimer);
    idleTimer = setTimeout(() => {
      isUserActive = false;

      // í˜„ì¬ ì°½ì´ **ì—´ë ¤ ìˆê³ **, ì‚¬ìš©ì ì…ë ¥ì´ ì—†ì—ˆë‹¤ë©´ ìƒˆë¡œê³ ì¹¨
      if (document.visibilityState === 'visible') {
        forceReload();
      }
    }, 10000); // 10ì´ˆ
  }

  // ì‚¬ìš©ì í™œë™ ì´ë²¤íŠ¸ ë°”ì¸ë”©
  ['mousemove', 'scroll', 'keydown', 'click', 'touchstart'].forEach(event => {
    window.addEventListener(event, resetIdleTimer, { passive: true });
  });

  // í˜ì´ì§€ê°€ ì²˜ìŒ ë¡œë“œë  ë•Œ íƒ€ì´ë¨¸ ì‹œì‘
  resetIdleTimer();

  // íƒ­ì´ ë°±ê·¸ë¼ìš´ë“œë¡œ ì „í™˜ë˜ì—ˆë‹¤ê°€ ëŒì•„ì˜¬ ë•Œ ë‹¤ì‹œ ì²´í¬
  document.addEventListener("visibilitychange", () => {
    if (document.visibilityState === 'visible') {
      resetIdleTimer();
    }
  });
</script>



</div>
</body>
</html>

